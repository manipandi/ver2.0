(function(){var Locstor=function Locstor(){};var defaultSize=5E8;var ie=function(){var undef,v=3,div=document.createElement("div");while(div.innerHTML="\x3c!--[if gt IE "+ ++v+"]><i></i>< ![endif]--\x3e",div.getElementsByTagName("i")[0]);return v>4?v:undef}();(function(){var supported=false;try{localStorage.setItem("test","test");localStorage.removeItem("test");supported=true}catch(e){supported=false}if(!supported){window.localStorage={getItem:function(sKey){if(!sKey||!this.hasOwnProperty(sKey))return null;
return unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(sKey).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"))},key:function(nKeyId){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[nKeyId])},setItem:function(sKey,sValue){if(!sKey)return;document.cookie=escape(sKey)+"="+escape(sValue)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/";this.length=document.cookie.match(/\=/g).length},length:0,removeItem:function(sKey){if(!sKey||
!this.hasOwnProperty(sKey))return;document.cookie=escape(sKey)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";this.length--},hasOwnProperty:function(sKey){return(new RegExp("(?:^|;\\s*)"+escape(sKey).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)}};window.localStorage.length=(document.cookie.match(/\=/g)||window.localStorage).length}})();if(typeof window.define==="function"&&window.define.amd)window.define("locstor",[],function(){return Locstor});else window.Locstor=Locstor;Locstor.clear=
function clear(){localStorage.clear()};Locstor.contains=function contains(key){if(typeof key!=="string")throw new Error("Key must be a string for function contains(key)");return this.getKeys().indexOf(key)!==-1};Locstor.get=function get(key,defaultValue){if(typeof key!=="string")throw new Error("Key must be a string for function get(key)");var value=localStorage.getItem(key);var number=parseFloat(value);if(value===null)return arguments.length===2?defaultValue:null;else if(!isNaN(number))return number;
else if(value.toLowerCase()==="true"||value.toLowerCase()==="false")return value==="true";else try{value=JSON.parse(value);return value}catch(e){return value}};Locstor.getKeys=function getKeys(){var result=[];for(var i=0;i<localStorage.length;i++)result.push(localStorage.key(i));return result};Locstor.getRemainingSpace=function getRemainingSpace(){return ie&&ie>7?localStorage.remainingSpace:defaultSize-this.getSize()};Locstor.getSize=function getSize(){return JSON.stringify(localStorage).length};
Locstor.isEmpty=function isEmpty(){return this.getKeys().length===0};Locstor.remove=function remove(key){if(typeof key==="string")localStorage.removeItem(key);else if(key instanceof Array)for(var i=0;i<key.length;i++)if(typeof key[i]==="string")localStorage.removeItem(key[i]);else throw new Error("Key in index "+i+" is not a string");else throw new Error("Key must be a string or array for function remove(key || array)");};Locstor.set=function set(key,value){if(arguments.length===1)this.store(key);
else if(typeof key==="string"){if(typeof value==="object")value=JSON.stringify(value);localStorage.setItem(key,value)}else throw new Error("Invalid arguments for function set(key, value) or function set(object)");};Locstor.store=function store(value){if(typeof value==="object"&&!(value instanceof Array))for(var property in value)localStorage.setItem(property,value[property]);else throw new Error("Argument for function set(object) must be an object");};Locstor.toObject=function toObject(){var o={};
var keys=this.getKeys();for(var i=0;i<keys.length;i++){var key=keys[i];o[key]=this.get(key)}return o}})();